var si={postWithFile:function(formulario,para){if(para==null||para==""){return false;}
$.ajax({type:'POST',url:BASE_URL+para,data:new FormData(formulario),contentType:false,cache:false,processData:false,beforeSend:function(){$("#loading").addClass("show");},error:function(response){return swal('Erro!',response.responseJSON.message,'error');},success:function(response){return returnResult(response,formulario,para);}}).always(function(){$("#loading").removeClass("show");});},postForm:function(formulario,para,div){if(para=="mensagem"){if(checkRecaptcha==false){return swal('Atenção!','Você precisa fazer o recaptcha','warning');}}
if(para=='register'){if(checkRecaptcha2==false){return swal('Atenção!','Você precisa fazer o recaptcha','warning');}}
var dados=$(formulario).serializeArray();$("#loading").addClass('show');$.ajax({type:"POST",url:BASE_URL+para,data:dados,dataType:'json',success:function(response){return returnResult(response,formulario,para);},error:function(response){return swal('Erro!',response.responseJSON.message,'error');}}).always(function(){$("#loading").removeClass('show');});},editClick:function(element){var object=$(element).data('object');var target=$(element).data('target');$.each(object,function(key,val){if(typeof val=='object'){if(val instanceof Array){var options=$(target).find('select[name='+key+'\\[\\]]').find("option");for(let index=0;index<val.length;index++){$.each(options,function(k,v){if($(v).attr('value')==val[index]){$(v).attr('selected',true);return false;}});}}}else if(key=='texto'||key=='description'||key=='texto_completo'){$(target).find('textarea[name='+key+']').val(val);$(target).find('input[name='+key+']').val(val);}else if(key=='date_publish'||key=='date_insert'||key=='date_update'||key=="data_abertura"||key=='date_birth'){var date=val.split(" ");$(target).find('input[name='+key+']').val(date[0]);}else{$(target).find('input[name='+key+']').val(val);$(target).find('textarea[name='+key+']').val(val);$(target).find('select[name='+key+']').val(val);}});$(target).modal('toggle');},questionClick:function(element)
{var ref=$(element).data('ref');var link=$(element).attr('data-link');if(link==undefined||link==""||link==null){return swal('Erro!','erro inesperado, recarregue a página e tente novamente','error');}
if(ref==undefined||ref==""||ref==null){return swal('Erro!','erro inesperado, recarregue a página e tente novamente','error');}
var textAlert=$(element).data('textalert');var titleAlert=$(element).data('titlealert');var typeAlert=$(element).data('typealert');var reload=$(element).data('reload');swal({title:titleAlert!=undefined&&titleAlert!=''?titleAlert:"Atenção!",text:textAlert!=undefined&&textAlert!=''?textAlert:"Você tem certeza que quer remover esse registro?",type:typeAlert!=undefined&&typeAlert!=''?typeAlert:"warning",showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Sim',cancelButtonText:'Não'},function(result){if(result){$.ajax({type:"POST",url:BASE_URL+link,data:{ref:ref},dataType:'json',beforeSend:function(){$("#loading").addClass('show');},success:function(response){if(response.result==0){return swal('Erro!',response.message,'error');}
if(reload!=null&&reload!=''&&reload!=undefined){window.location.reload();}
return returnResult(response,null,null);},error:function(response){console.log(response);}}).always(function(){$("#loading").removeClass('show');});}});},search:function(el,url){$.ajax({type:"POST",url:BASE_URL+url,data:$(el).serializeArray(),beforeSend:function(){$(el).closest('.content-paginate').find('.loading-placeholder').addClass('show');},success:function(response){if(typeof response=='object'){if(response.result==0){return swal('Atenção!',response.message,'warning');}
return swal('Sucesso!',response.message,'success');}
$(el).closest('.content-paginate').find('.list-elements').html(response);},error:function(response){console.log(response);}}).always(function(){$(el).closest('.content-paginate').find('.loading-placeholder').removeClass('show');});},makePaginate:function(element){var button=$(element);if($(button).parent().hasClass('active')){return false;}
var page=$(button).attr('data-page');var form=$(element).closest('.content-paginate').find('form');$(form).find('input[name="page"]').val(page);$(form).trigger('submit');}};function returnResult(response,formulario,para)
{if(typeof response==='object'&&response!==null){if(response.result==0){if((para=="meu-perfil/saldo/pagar"||para=="meu-perfil/bilhetes/pagar")&&(response.message==null||response.message==undefined||response.message=="")){return swal({title:'Sucesso !!!',text:"Pagamento realizado com sucesso",type:'success'},function(){window.location.reload();});}else{return swal('Erro!',response.message!=null&&response.message!=''&&response.message!=undefined?response.message:'Não foi possível concluir!','error');}}
switch(response.acao){case 'search':if(!response.hasOwnProperty('withoutMessage')){swal('Sucesso!',response.message,'success');}
$(formulario).trigger("reset");$(".modal").modal("hide");$("body").find(response.element).find('form').trigger('submit');break;case 'redirecionar':$(formulario).trigger("reset");$(".modal").modal("hide");if(response.isComplete!=undefined&&response.isComplete!=""){window.location.href=response.url;}else{window.location.href=BASE_URL+response.url;}
break;case 'refresh':swal({title:'Sucesso !!!',text:response.message,type:'success'},function(){window.location.reload();});break;case 'cadastro':swal({title:'Sucesso !!!',text:response.message,type:'success'},function(){window.location.href=response.url;});break;case 'download':$(formulario).trigger("reset");swal({title:'Sucesso !!!',text:response.message,type:'success',confirmButtonText:'Receber !!'},function(){window.open($(".btn_midiakit").attr('href'),'_blank');});break;case "error":if(response.message.usuario!=undefined){swal("Erro !!",response.message.usuario,'error');}else if(response.message.senha!=undefined){swal("Erro !!",response.message.senha,'error');}else{swal("Erro !!",response.message,'error');}
break;case "atualizar":swal("Sucesso !!",response.message,"success");break;case "sucesso":$(formulario).trigger("reset");$(".modal").modal("hide");swal("Sucesso !!",response.message,'success');break;case "success":$(formulario).trigger("reset");$(".modal").modal("hide");swal("Sucesso !!",response.message,'success');break;case "filtro":break;default:$(formulario).trigger("reset");swal("Sucesso !!",response.message,'success');break;}}
return true;}
function openLogin(el)
{$(".box-login").toggleClass("show");}
$(document).ready(function(){if($(window).width()>790){if($(window).scrollTop()>$(".header-main").outerHeight()){$('header').addClass('scroll');}else{$('header').removeClass('scroll');}
$(window).scroll(function(){if($(window).scrollTop()>$(".header-main").outerHeight()){$('header').addClass('scroll');}else{$('header').removeClass('scroll');}});}
$(".clique-loading").click(function(){$("#loading").addClass('show');});$(".desce-efeito").click(function(event){$('menu').removeClass('show');event.preventDefault();$('body,html').animate({scrollTop:$($(this).attr("href")).offset().top-100},700);});$('.mask-cpf').mask('000.000.000-00',{reverse:true});$('.mask-telefone').mask('(00) 00000-0000');$('.mask-cep').mask('00000-000');$(".mask-cnpj").mask("00.000.000/0000-00");$(".mask-date").mask("00/00/0000");$('.money').mask('#.##0,00',{reverse:true});$('.menu-anchor').on('click',function(e){$(this).toggleClass('close-btn');if($(this).find('i').hasClass('fa-bars')){$(this).find('i').removeClass('fa-bars');$(this).find('i').addClass('fa-times');}else{$(this).find('i').removeClass('fa-times');$(this).find('i').addClass('fa-bars');}
$("menu").toggleClass('show');});});function closeLogin()
{$(".box-login").removeClass('show');}
function numberToReal(numero){var numero=parseFloat(numero);numero=numero.toFixed(2).split('.');numero[0]="R$ "+numero[0].split(/(?=(?:...)*$)/).join('.');return numero.join(',');}